import{rnd}from"./snippets/snake_game-027f5cd2d64d2885/www/utils/rnd.ts";let wasm,cachedDataViewMemory0=null;function getDataViewMemory0(){return(null===cachedDataViewMemory0||!0===cachedDataViewMemory0.buffer.detached||void 0===cachedDataViewMemory0.buffer.detached&&cachedDataViewMemory0.buffer!==wasm.memory.buffer)&&(cachedDataViewMemory0=new DataView(wasm.memory.buffer)),cachedDataViewMemory0}function getStringFromWasm0(e,t){return decodeText(e>>>=0,t)}let cachedUint8ArrayMemory0=null;function getUint8ArrayMemory0(){return null!==cachedUint8ArrayMemory0&&0!==cachedUint8ArrayMemory0.byteLength||(cachedUint8ArrayMemory0=new Uint8Array(wasm.memory.buffer)),cachedUint8ArrayMemory0}let cachedTextDecoder=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});cachedTextDecoder.decode();const MAX_SAFARI_DECODE_BYTES=2146435072;let numBytesDecoded=0;function decodeText(e,t){return numBytesDecoded+=t,numBytesDecoded>=MAX_SAFARI_DECODE_BYTES&&(cachedTextDecoder=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),cachedTextDecoder.decode(),numBytesDecoded=t),cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(e,e+t))}const WorldFinalization="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>wasm.__wbg_world_free(e>>>0,1));export const Direction=Object.freeze({Up:0,0:"Up",Down:1,1:"Down",Right:2,2:"Right",Left:3,3:"Left"});export const GameStatus=Object.freeze({Won:0,0:"Won",Lost:1,1:"Lost",Played:2,2:"Played"});export class World{static __wrap(e){e>>>=0;const t=Object.create(World.prototype);return t.__wbg_ptr=e,WorldFinalization.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,WorldFinalization.unregister(this),e}free(){const e=this.__destroy_into_raw();wasm.__wbg_world_free(e,0)}static new(e,t){const r=wasm.world_new(e,t);return World.__wrap(r)}width(){return wasm.world_width(this.__wbg_ptr)>>>0}points(){return wasm.world_points(this.__wbg_ptr)>>>0}reward_cell(){const e=wasm.world_reward_cell(this.__wbg_ptr);return 4294967297===e?void 0:e}size(){return wasm.world_size(this.__wbg_ptr)>>>0}snake_head(){return wasm.world_snake_head(this.__wbg_ptr)>>>0}start_game(){wasm.world_start_game(this.__wbg_ptr)}game_status(){const e=wasm.world_game_status(this.__wbg_ptr);return 3===e?void 0:e}game_status_text(){let e,t;try{const a=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.world_game_status_text(a,this.__wbg_ptr);var r=getDataViewMemory0().getInt32(a+0,!0),n=getDataViewMemory0().getInt32(a+4,!0);return e=r,t=n,getStringFromWasm0(r,n)}finally{wasm.__wbindgen_add_to_stack_pointer(16),wasm.__wbindgen_export(e,t,1)}}change_snake_direction(e){wasm.world_change_snake_direction(this.__wbg_ptr,e)}snake_length(){return wasm.world_snake_length(this.__wbg_ptr)>>>0}snake_cells(){return wasm.world_snake_cells(this.__wbg_ptr)>>>0}step(){wasm.world_step(this.__wbg_ptr)}}Symbol.dispose&&(World.prototype[Symbol.dispose]=World.prototype.free);const EXPECTED_RESPONSE_TYPES=new Set(["basic","cors","default"]);async function __wbg_load(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(!e.ok||!EXPECTED_RESPONSE_TYPES.has(e.type)||"application/wasm"===e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}function __wbg_get_imports(){const e={wbg:{}};return e.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(e,t){throw new Error(getStringFromWasm0(e,t))},e.wbg.__wbg_rnd_8c66e8b222668416=function(e){return rnd(e>>>0)},e}function __wbg_finalize_init(e,t){return wasm=e.exports,__wbg_init.__wbindgen_wasm_module=t,cachedDataViewMemory0=null,cachedUint8ArrayMemory0=null,wasm}function initSync(e){if(void 0!==wasm)return wasm;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module:e}=e):console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=__wbg_get_imports();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),__wbg_finalize_init(new WebAssembly.Instance(e,t),e)}async function __wbg_init(e){if(void 0!==wasm)return wasm;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module_or_path:e}=e):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL("snake_game_bg.wasm",import.meta.url));const t=__wbg_get_imports();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:n}=await __wbg_load(await e,t);return __wbg_finalize_init(r,n)}export{initSync};export default __wbg_init;