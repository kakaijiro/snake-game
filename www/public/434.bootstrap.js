"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[434],{434:(e,t,n)=>{let r,o=null;function a(){return(null===o||!0===o.buffer.detached||void 0===o.buffer.detached&&o.buffer!==r.memory.buffer)&&(o=new DataView(r.memory.buffer)),o}function i(e,t){return function(e,t){return l+=t,l>=c&&(_=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),_.decode(),l=t),_.decode((null!==s&&0!==s.byteLength||(s=new Uint8Array(r.memory.buffer)),s).subarray(e,e+t))}(e>>>=0,t)}let s=null,_=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});_.decode();const c=2146435072;let l=0;const w="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_world_free(e>>>0,1)),d=Object.freeze({Up:0,0:"Up",Down:1,1:"Down",Right:2,2:"Right",Left:3,3:"Left"}),u=Object.freeze({Won:0,0:"Won",Lost:1,1:"Lost",Played:2,2:"Played"});class f{static __wrap(e){e>>>=0;const t=Object.create(f.prototype);return t.__wbg_ptr=e,w.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,w.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_world_free(e,0)}static new(e,t){const n=r.world_new(e,t);return f.__wrap(n)}width(){return r.world_width(this.__wbg_ptr)>>>0}points(){return r.world_points(this.__wbg_ptr)>>>0}reward_cell(){const e=r.world_reward_cell(this.__wbg_ptr);return 4294967297===e?void 0:e}size(){return r.world_size(this.__wbg_ptr)>>>0}snake_head(){return r.world_snake_head(this.__wbg_ptr)>>>0}start_game(){r.world_start_game(this.__wbg_ptr)}game_status(){const e=r.world_game_status(this.__wbg_ptr);return 3===e?void 0:e}game_status_text(){let e,t;try{const s=r.__wbindgen_add_to_stack_pointer(-16);r.world_game_status_text(s,this.__wbg_ptr);var n=a().getInt32(s+0,!0),o=a().getInt32(s+4,!0);return e=n,t=o,i(n,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_export(e,t,1)}}change_snake_direction(e){r.world_change_snake_direction(this.__wbg_ptr,e)}snake_length(){return r.world_snake_length(this.__wbg_ptr)>>>0}snake_cells(){return r.world_snake_cells(this.__wbg_ptr)>>>0}step(){r.world_step(this.__wbg_ptr)}}Symbol.dispose&&(f.prototype[Symbol.dispose]=f.prototype.free);const g=new Set(["basic","cors","default"]);async function b(e){if(void 0!==r)return r;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module_or_path:e}=e):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL(n(543),n.b));const t=function(){const e={wbg:{}};return e.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(e,t){throw new Error(i(e,t))},e.wbg.__wbg_rnd_8c66e8b222668416=function(e){var t;return t=e>>>0,Math.floor(Math.random()*t)},e}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:a,module:_}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(!e.ok||!g.has(e.type)||"application/wasm"===e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return function(e,t){return r=e.exports,b.__wbindgen_wasm_module=t,o=null,s=null,r}(a,_)}b().then(function(e){var t=20,n=Math.floor(64*Math.random()),r=f.new(8,n),o=r.width(),a=document.getElementById("snake-canvas"),i=a.getContext("2d");a.height=o*t,a.width=o*t;var s=document.getElementById("game-status"),_=document.getElementById("points"),c=document.getElementById("game-btn");c.addEventListener("click",function(){void 0===r.game_status()?(c.textContent="Playing...",r.start_game(),b()):location.reload()});for(var l=r.snake_length(),w=0;w<l;w++)document.addEventListener("keydown",function(e){switch(e.code){case"ArrowUp":r.change_snake_direction(d.Up);break;case"ArrowDown":r.change_snake_direction(d.Down);break;case"ArrowRight":r.change_snake_direction(d.Right);break;case"ArrowLeft":r.change_snake_direction(d.Left)}});function g(){var n,a,c,l;!function(){i.beginPath();for(var e=0;e<o+1;e++)i.moveTo(e*t,0),i.lineTo(e*t,o*t);for(var n=0;n<o+1;n++)i.moveTo(0,n*t),i.lineTo(o*t,n*t);i.stroke()}(),(n=new Uint32Array(e.memory.buffer,r.snake_cells(),r.snake_length())).filter(function(e,t){return!(t>0&&e===n[0])}).forEach(function(e,n){var r=e%o,a=Math.floor(e/o);i.fillStyle=0===n?"#5f3dc4":"#b197fc",i.beginPath(),i.fillRect(r*t,a*t,t,t)}),i.stroke(),c=(a=r.reward_cell())%o,l=Math.floor(a/o),i.fillStyle="#fd7e14",i.beginPath(),i.fillRect(c*t,l*t,t,t),i.stroke(),s.textContent=r.game_status_text(),_.textContent=r.points().toString()}function b(){var e=r.game_status();e!==u.Won&&e!==u.Lost?setTimeout(function(){i.clearRect(0,0,a.width,a.height),r.step(),g(),requestAnimationFrame(b)},500):c.textContent="Play Again"}g()})},543:(e,t,n)=>{e.exports=n.p+"661bf15f0957e8be0e91.wasm"}}]);