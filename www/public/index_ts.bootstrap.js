"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwww"] = self["webpackChunkwww"] || []).push([["index_ts"],{

/***/ "../pkg/snake_game.js":
/*!****************************!*\
  !*** ../pkg/snake_game.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Direction: () => (/* binding */ Direction),\n/* harmony export */   GameStatus: () => (/* binding */ GameStatus),\n/* harmony export */   World: () => (/* binding */ World),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   initSync: () => (/* binding */ initSync)\n/* harmony export */ });\n/* harmony import */ var _snippets_snake_game_027f5cd2d64d2885_www_utils_rnd_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./snippets/snake_game-027f5cd2d64d2885/www/utils/rnd.ts */ \"../pkg/snippets/snake_game-027f5cd2d64d2885/www/utils/rnd.ts\");\n\n\nlet wasm;\n\nlet cachedDataViewMemory0 = null;\nfunction getDataViewMemory0() {\n    if (cachedDataViewMemory0 === null || cachedDataViewMemory0.buffer.detached === true || (cachedDataViewMemory0.buffer.detached === undefined && cachedDataViewMemory0.buffer !== wasm.memory.buffer)) {\n        cachedDataViewMemory0 = new DataView(wasm.memory.buffer);\n    }\n    return cachedDataViewMemory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return decodeText(ptr, len);\n}\n\nlet cachedUint8ArrayMemory0 = null;\nfunction getUint8ArrayMemory0() {\n    if (cachedUint8ArrayMemory0 === null || cachedUint8ArrayMemory0.byteLength === 0) {\n        cachedUint8ArrayMemory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8ArrayMemory0;\n}\n\nlet cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\ncachedTextDecoder.decode();\nconst MAX_SAFARI_DECODE_BYTES = 2146435072;\nlet numBytesDecoded = 0;\nfunction decodeText(ptr, len) {\n    numBytesDecoded += len;\n    if (numBytesDecoded >= MAX_SAFARI_DECODE_BYTES) {\n        cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n        cachedTextDecoder.decode();\n        numBytesDecoded = len;\n    }\n    return cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(ptr, ptr + len));\n}\n\nconst WorldFinalization = (typeof FinalizationRegistry === 'undefined')\n    ? { register: () => {}, unregister: () => {} }\n    : new FinalizationRegistry(ptr => wasm.__wbg_world_free(ptr >>> 0, 1));\n\n/**\n * @enum {0 | 1 | 2 | 3}\n */\nconst Direction = Object.freeze({\n    Up: 0, \"0\": \"Up\",\n    Down: 1, \"1\": \"Down\",\n    Right: 2, \"2\": \"Right\",\n    Left: 3, \"3\": \"Left\",\n});\n\n/**\n * @enum {0 | 1 | 2}\n */\nconst GameStatus = Object.freeze({\n    Won: 0, \"0\": \"Won\",\n    Lost: 1, \"1\": \"Lost\",\n    Played: 2, \"2\": \"Played\",\n});\n\nclass World {\n    static __wrap(ptr) {\n        ptr = ptr >>> 0;\n        const obj = Object.create(World.prototype);\n        obj.__wbg_ptr = ptr;\n        WorldFinalization.register(obj, obj.__wbg_ptr, obj);\n        return obj;\n    }\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        WorldFinalization.unregister(this);\n        return ptr;\n    }\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_world_free(ptr, 0);\n    }\n    /**\n     * @param {number} width\n     * @param {number} spawn_index\n     * @returns {World}\n     */\n    static new(width, spawn_index) {\n        const ret = wasm.world_new(width, spawn_index);\n        return World.__wrap(ret);\n    }\n    /**\n     * @returns {number}\n     */\n    width() {\n        const ret = wasm.world_width(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    /**\n     * @returns {number}\n     */\n    points() {\n        const ret = wasm.world_points(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    /**\n     * @returns {number | undefined}\n     */\n    reward_cell() {\n        const ret = wasm.world_reward_cell(this.__wbg_ptr);\n        return ret === 0x100000001 ? undefined : ret;\n    }\n    /**\n     * @returns {number}\n     */\n    size() {\n        const ret = wasm.world_size(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    /**\n     * @returns {number}\n     */\n    snake_head() {\n        const ret = wasm.world_snake_head(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    start_game() {\n        wasm.world_start_game(this.__wbg_ptr);\n    }\n    /**\n     * @returns {GameStatus | undefined}\n     */\n    game_status() {\n        const ret = wasm.world_game_status(this.__wbg_ptr);\n        return ret === 3 ? undefined : ret;\n    }\n    /**\n     * @returns {string}\n     */\n    game_status_text() {\n        let deferred1_0;\n        let deferred1_1;\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.world_game_status_text(retptr, this.__wbg_ptr);\n            var r0 = getDataViewMemory0().getInt32(retptr + 4 * 0, true);\n            var r1 = getDataViewMemory0().getInt32(retptr + 4 * 1, true);\n            deferred1_0 = r0;\n            deferred1_1 = r1;\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n            wasm.__wbindgen_export(deferred1_0, deferred1_1, 1);\n        }\n    }\n    /**\n     * @param {Direction} direction\n     */\n    change_snake_direction(direction) {\n        wasm.world_change_snake_direction(this.__wbg_ptr, direction);\n    }\n    /**\n     * @returns {number}\n     */\n    snake_length() {\n        const ret = wasm.world_snake_length(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    /**\n     * @returns {number}\n     */\n    snake_cells() {\n        const ret = wasm.world_snake_cells(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    step() {\n        wasm.world_step(this.__wbg_ptr);\n    }\n}\nif (Symbol.dispose) World.prototype[Symbol.dispose] = World.prototype.free;\n\nconst EXPECTED_RESPONSE_TYPES = new Set(['basic', 'cors', 'default']);\n\nasync function __wbg_load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n            } catch (e) {\n                const validResponse = module.ok && EXPECTED_RESPONSE_TYPES.has(module.type);\n\n                if (validResponse && module.headers.get('Content-Type') !== 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n    } else {\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n        } else {\n            return instance;\n        }\n    }\n}\n\nfunction __wbg_get_imports() {\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbg_rnd_8c66e8b222668416 = function(arg0) {\n        const ret = (0,_snippets_snake_game_027f5cd2d64d2885_www_utils_rnd_ts__WEBPACK_IMPORTED_MODULE_0__.rnd)(arg0 >>> 0);\n        return ret;\n    };\n\n    return imports;\n}\n\nfunction __wbg_finalize_init(instance, module) {\n    wasm = instance.exports;\n    __wbg_init.__wbindgen_wasm_module = module;\n    cachedDataViewMemory0 = null;\n    cachedUint8ArrayMemory0 = null;\n\n\n\n    return wasm;\n}\n\nfunction initSync(module) {\n    if (wasm !== undefined) return wasm;\n\n\n    if (typeof module !== 'undefined') {\n        if (Object.getPrototypeOf(module) === Object.prototype) {\n            ({module} = module)\n        } else {\n            console.warn('using deprecated parameters for `initSync()`; pass a single object instead')\n        }\n    }\n\n    const imports = __wbg_get_imports();\n    if (!(module instanceof WebAssembly.Module)) {\n        module = new WebAssembly.Module(module);\n    }\n    const instance = new WebAssembly.Instance(module, imports);\n    return __wbg_finalize_init(instance, module);\n}\n\nasync function __wbg_init(module_or_path) {\n    if (wasm !== undefined) return wasm;\n\n\n    if (typeof module_or_path !== 'undefined') {\n        if (Object.getPrototypeOf(module_or_path) === Object.prototype) {\n            ({module_or_path} = module_or_path)\n        } else {\n            console.warn('using deprecated parameters for the initialization function; pass a single object instead')\n        }\n    }\n\n    if (typeof module_or_path === 'undefined') {\n        module_or_path = new URL(/* asset import */ __webpack_require__(/*! snake_game_bg.wasm */ \"../pkg/snake_game_bg.wasm\"), __webpack_require__.b);\n    }\n    const imports = __wbg_get_imports();\n\n    if (typeof module_or_path === 'string' || (typeof Request === 'function' && module_or_path instanceof Request) || (typeof URL === 'function' && module_or_path instanceof URL)) {\n        module_or_path = fetch(module_or_path);\n    }\n\n    const { instance, module } = await __wbg_load(await module_or_path, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__wbg_init);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vcGtnL3NuYWtlX2dhbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThFOztBQUU5RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtREFBbUQsOEJBQThCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCw4QkFBOEI7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsa0JBQWtCO0FBQzFCOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxVQUFVO0FBQ1Y7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRU07QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFdBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0EscUJBQXFCO0FBQ3JCLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyRkFBRztBQUN2QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixVQUFVO0FBQ1Ysd0VBQXdFO0FBQ3hFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLGNBQWMsZ0JBQWdCO0FBQzlCLFVBQVU7QUFDVix1RkFBdUY7QUFDdkY7QUFDQTs7QUFFQTtBQUNBLGlDQUFpQyxvSEFBcUM7QUFDdEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSxtQkFBbUI7O0FBRS9CO0FBQ0E7O0FBRW9CO0FBQ3BCLGlFQUFlLFVBQVUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3d3dy8uLi9wa2cvc25ha2VfZ2FtZS5qcz8xN2VjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJuZCB9IGZyb20gJy4vc25pcHBldHMvc25ha2VfZ2FtZS0wMjdmNWNkMmQ2NGQyODg1L3d3dy91dGlscy9ybmQudHMnO1xuXG5sZXQgd2FzbTtcblxubGV0IGNhY2hlZERhdGFWaWV3TWVtb3J5MCA9IG51bGw7XG5mdW5jdGlvbiBnZXREYXRhVmlld01lbW9yeTAoKSB7XG4gICAgaWYgKGNhY2hlZERhdGFWaWV3TWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWREYXRhVmlld01lbW9yeTAuYnVmZmVyLmRldGFjaGVkID09PSB0cnVlIHx8IChjYWNoZWREYXRhVmlld01lbW9yeTAuYnVmZmVyLmRldGFjaGVkID09PSB1bmRlZmluZWQgJiYgY2FjaGVkRGF0YVZpZXdNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5tZW1vcnkuYnVmZmVyKSkge1xuICAgICAgICBjYWNoZWREYXRhVmlld01lbW9yeTAgPSBuZXcgRGF0YVZpZXcod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZERhdGFWaWV3TWVtb3J5MDtcbn1cblxuZnVuY3Rpb24gZ2V0U3RyaW5nRnJvbVdhc20wKHB0ciwgbGVuKSB7XG4gICAgcHRyID0gcHRyID4+PiAwO1xuICAgIHJldHVybiBkZWNvZGVUZXh0KHB0ciwgbGVuKTtcbn1cblxubGV0IGNhY2hlZFVpbnQ4QXJyYXlNZW1vcnkwID0gbnVsbDtcbmZ1bmN0aW9uIGdldFVpbnQ4QXJyYXlNZW1vcnkwKCkge1xuICAgIGlmIChjYWNoZWRVaW50OEFycmF5TWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWRVaW50OEFycmF5TWVtb3J5MC5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNhY2hlZFVpbnQ4QXJyYXlNZW1vcnkwID0gbmV3IFVpbnQ4QXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZFVpbnQ4QXJyYXlNZW1vcnkwO1xufVxuXG5sZXQgY2FjaGVkVGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JywgeyBpZ25vcmVCT006IHRydWUsIGZhdGFsOiB0cnVlIH0pO1xuY2FjaGVkVGV4dERlY29kZXIuZGVjb2RlKCk7XG5jb25zdCBNQVhfU0FGQVJJX0RFQ09ERV9CWVRFUyA9IDIxNDY0MzUwNzI7XG5sZXQgbnVtQnl0ZXNEZWNvZGVkID0gMDtcbmZ1bmN0aW9uIGRlY29kZVRleHQocHRyLCBsZW4pIHtcbiAgICBudW1CeXRlc0RlY29kZWQgKz0gbGVuO1xuICAgIGlmIChudW1CeXRlc0RlY29kZWQgPj0gTUFYX1NBRkFSSV9ERUNPREVfQllURVMpIHtcbiAgICAgICAgY2FjaGVkVGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JywgeyBpZ25vcmVCT006IHRydWUsIGZhdGFsOiB0cnVlIH0pO1xuICAgICAgICBjYWNoZWRUZXh0RGVjb2Rlci5kZWNvZGUoKTtcbiAgICAgICAgbnVtQnl0ZXNEZWNvZGVkID0gbGVuO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVkVGV4dERlY29kZXIuZGVjb2RlKGdldFVpbnQ4QXJyYXlNZW1vcnkwKCkuc3ViYXJyYXkocHRyLCBwdHIgKyBsZW4pKTtcbn1cblxuY29uc3QgV29ybGRGaW5hbGl6YXRpb24gPSAodHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5ID09PSAndW5kZWZpbmVkJylcbiAgICA/IHsgcmVnaXN0ZXI6ICgpID0+IHt9LCB1bnJlZ2lzdGVyOiAoKSA9PiB7fSB9XG4gICAgOiBuZXcgRmluYWxpemF0aW9uUmVnaXN0cnkocHRyID0+IHdhc20uX193Ymdfd29ybGRfZnJlZShwdHIgPj4+IDAsIDEpKTtcblxuLyoqXG4gKiBAZW51bSB7MCB8IDEgfCAyIHwgM31cbiAqL1xuZXhwb3J0IGNvbnN0IERpcmVjdGlvbiA9IE9iamVjdC5mcmVlemUoe1xuICAgIFVwOiAwLCBcIjBcIjogXCJVcFwiLFxuICAgIERvd246IDEsIFwiMVwiOiBcIkRvd25cIixcbiAgICBSaWdodDogMiwgXCIyXCI6IFwiUmlnaHRcIixcbiAgICBMZWZ0OiAzLCBcIjNcIjogXCJMZWZ0XCIsXG59KTtcblxuLyoqXG4gKiBAZW51bSB7MCB8IDEgfCAyfVxuICovXG5leHBvcnQgY29uc3QgR2FtZVN0YXR1cyA9IE9iamVjdC5mcmVlemUoe1xuICAgIFdvbjogMCwgXCIwXCI6IFwiV29uXCIsXG4gICAgTG9zdDogMSwgXCIxXCI6IFwiTG9zdFwiLFxuICAgIFBsYXllZDogMiwgXCIyXCI6IFwiUGxheWVkXCIsXG59KTtcblxuZXhwb3J0IGNsYXNzIFdvcmxkIHtcbiAgICBzdGF0aWMgX193cmFwKHB0cikge1xuICAgICAgICBwdHIgPSBwdHIgPj4+IDA7XG4gICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUoV29ybGQucHJvdG90eXBlKTtcbiAgICAgICAgb2JqLl9fd2JnX3B0ciA9IHB0cjtcbiAgICAgICAgV29ybGRGaW5hbGl6YXRpb24ucmVnaXN0ZXIob2JqLCBvYmouX193YmdfcHRyLCBvYmopO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBfX2Rlc3Ryb3lfaW50b19yYXcoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX193YmdfcHRyO1xuICAgICAgICB0aGlzLl9fd2JnX3B0ciA9IDA7XG4gICAgICAgIFdvcmxkRmluYWxpemF0aW9uLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHJldHVybiBwdHI7XG4gICAgfVxuICAgIGZyZWUoKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHRoaXMuX19kZXN0cm95X2ludG9fcmF3KCk7XG4gICAgICAgIHdhc20uX193Ymdfd29ybGRfZnJlZShwdHIsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3Bhd25faW5kZXhcbiAgICAgKiBAcmV0dXJucyB7V29ybGR9XG4gICAgICovXG4gICAgc3RhdGljIG5ldyh3aWR0aCwgc3Bhd25faW5kZXgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS53b3JsZF9uZXcod2lkdGgsIHNwYXduX2luZGV4KTtcbiAgICAgICAgcmV0dXJuIFdvcmxkLl9fd3JhcChyZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHdpZHRoKCkge1xuICAgICAgICBjb25zdCByZXQgPSB3YXNtLndvcmxkX3dpZHRoKHRoaXMuX193YmdfcHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBwb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ud29ybGRfcG9pbnRzKHRoaXMuX193YmdfcHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge251bWJlciB8IHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICByZXdhcmRfY2VsbCgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS53b3JsZF9yZXdhcmRfY2VsbCh0aGlzLl9fd2JnX3B0cik7XG4gICAgICAgIHJldHVybiByZXQgPT09IDB4MTAwMDAwMDAxID8gdW5kZWZpbmVkIDogcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHNpemUoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ud29ybGRfc2l6ZSh0aGlzLl9fd2JnX3B0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgc25ha2VfaGVhZCgpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS53b3JsZF9zbmFrZV9oZWFkKHRoaXMuX193YmdfcHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgc3RhcnRfZ2FtZSgpIHtcbiAgICAgICAgd2FzbS53b3JsZF9zdGFydF9nYW1lKHRoaXMuX193YmdfcHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0dhbWVTdGF0dXMgfCB1bmRlZmluZWR9XG4gICAgICovXG4gICAgZ2FtZV9zdGF0dXMoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ud29ybGRfZ2FtZV9zdGF0dXModGhpcy5fX3diZ19wdHIpO1xuICAgICAgICByZXR1cm4gcmV0ID09PSAzID8gdW5kZWZpbmVkIDogcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdhbWVfc3RhdHVzX3RleHQoKSB7XG4gICAgICAgIGxldCBkZWZlcnJlZDFfMDtcbiAgICAgICAgbGV0IGRlZmVycmVkMV8xO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmV0cHRyID0gd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKC0xNik7XG4gICAgICAgICAgICB3YXNtLndvcmxkX2dhbWVfc3RhdHVzX3RleHQocmV0cHRyLCB0aGlzLl9fd2JnX3B0cik7XG4gICAgICAgICAgICB2YXIgcjAgPSBnZXREYXRhVmlld01lbW9yeTAoKS5nZXRJbnQzMihyZXRwdHIgKyA0ICogMCwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcjEgPSBnZXREYXRhVmlld01lbW9yeTAoKS5nZXRJbnQzMihyZXRwdHIgKyA0ICogMSwgdHJ1ZSk7XG4gICAgICAgICAgICBkZWZlcnJlZDFfMCA9IHIwO1xuICAgICAgICAgICAgZGVmZXJyZWQxXzEgPSByMTtcbiAgICAgICAgICAgIHJldHVybiBnZXRTdHJpbmdGcm9tV2FzbTAocjAsIHIxKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigxNik7XG4gICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0KGRlZmVycmVkMV8wLCBkZWZlcnJlZDFfMSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtEaXJlY3Rpb259IGRpcmVjdGlvblxuICAgICAqL1xuICAgIGNoYW5nZV9zbmFrZV9kaXJlY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgICAgIHdhc20ud29ybGRfY2hhbmdlX3NuYWtlX2RpcmVjdGlvbih0aGlzLl9fd2JnX3B0ciwgZGlyZWN0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBzbmFrZV9sZW5ndGgoKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHdhc20ud29ybGRfc25ha2VfbGVuZ3RoKHRoaXMuX193YmdfcHRyKTtcbiAgICAgICAgcmV0dXJuIHJldCA+Pj4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBzbmFrZV9jZWxscygpIHtcbiAgICAgICAgY29uc3QgcmV0ID0gd2FzbS53b3JsZF9zbmFrZV9jZWxscyh0aGlzLl9fd2JnX3B0cik7XG4gICAgICAgIHJldHVybiByZXQgPj4+IDA7XG4gICAgfVxuICAgIHN0ZXAoKSB7XG4gICAgICAgIHdhc20ud29ybGRfc3RlcCh0aGlzLl9fd2JnX3B0cik7XG4gICAgfVxufVxuaWYgKFN5bWJvbC5kaXNwb3NlKSBXb3JsZC5wcm90b3R5cGVbU3ltYm9sLmRpc3Bvc2VdID0gV29ybGQucHJvdG90eXBlLmZyZWU7XG5cbmNvbnN0IEVYUEVDVEVEX1JFU1BPTlNFX1RZUEVTID0gbmV3IFNldChbJ2Jhc2ljJywgJ2NvcnMnLCAnZGVmYXVsdCddKTtcblxuYXN5bmMgZnVuY3Rpb24gX193YmdfbG9hZChtb2R1bGUsIGltcG9ydHMpIHtcbiAgICBpZiAodHlwZW9mIFJlc3BvbnNlID09PSAnZnVuY3Rpb24nICYmIG1vZHVsZSBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKG1vZHVsZSwgaW1wb3J0cyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRSZXNwb25zZSA9IG1vZHVsZS5vayAmJiBFWFBFQ1RFRF9SRVNQT05TRV9UWVBFUy5oYXMobW9kdWxlLnR5cGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkUmVzcG9uc2UgJiYgbW9kdWxlLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKSAhPT0gJ2FwcGxpY2F0aW9uL3dhc20nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZ2AgZmFpbGVkIGJlY2F1c2UgeW91ciBzZXJ2ZXIgZG9lcyBub3Qgc2VydmUgV2FzbSB3aXRoIGBhcHBsaWNhdGlvbi93YXNtYCBNSU1FIHR5cGUuIEZhbGxpbmcgYmFjayB0byBgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVgIHdoaWNoIGlzIHNsb3dlci4gT3JpZ2luYWwgZXJyb3I6XFxuXCIsIGUpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBieXRlcyA9IGF3YWl0IG1vZHVsZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICByZXR1cm4gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYnl0ZXMsIGltcG9ydHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUobW9kdWxlLCBpbXBvcnRzKTtcblxuICAgICAgICBpZiAoaW5zdGFuY2UgaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5JbnN0YW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgaW5zdGFuY2UsIG1vZHVsZSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX3diZ19nZXRfaW1wb3J0cygpIHtcbiAgICBjb25zdCBpbXBvcnRzID0ge307XG4gICAgaW1wb3J0cy53YmcgPSB7fTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19fX3diaW5kZ2VuX3Rocm93X2RkMjQ0MTdlZDM2ZmM0NmUgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xuICAgIH07XG4gICAgaW1wb3J0cy53YmcuX193Ymdfcm5kXzhjNjZlOGIyMjI2Njg0MTYgPSBmdW5jdGlvbihhcmcwKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHJuZChhcmcwID4+PiAwKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGltcG9ydHM7XG59XG5cbmZ1bmN0aW9uIF9fd2JnX2ZpbmFsaXplX2luaXQoaW5zdGFuY2UsIG1vZHVsZSkge1xuICAgIHdhc20gPSBpbnN0YW5jZS5leHBvcnRzO1xuICAgIF9fd2JnX2luaXQuX193YmluZGdlbl93YXNtX21vZHVsZSA9IG1vZHVsZTtcbiAgICBjYWNoZWREYXRhVmlld01lbW9yeTAgPSBudWxsO1xuICAgIGNhY2hlZFVpbnQ4QXJyYXlNZW1vcnkwID0gbnVsbDtcblxuXG5cbiAgICByZXR1cm4gd2FzbTtcbn1cblxuZnVuY3Rpb24gaW5pdFN5bmMobW9kdWxlKSB7XG4gICAgaWYgKHdhc20gIT09IHVuZGVmaW5lZCkgcmV0dXJuIHdhc207XG5cblxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG1vZHVsZSkgPT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgICh7bW9kdWxlfSA9IG1vZHVsZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybigndXNpbmcgZGVwcmVjYXRlZCBwYXJhbWV0ZXJzIGZvciBgaW5pdFN5bmMoKWA7IHBhc3MgYSBzaW5nbGUgb2JqZWN0IGluc3RlYWQnKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaW1wb3J0cyA9IF9fd2JnX2dldF9pbXBvcnRzKCk7XG4gICAgaWYgKCEobW9kdWxlIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuTW9kdWxlKSkge1xuICAgICAgICBtb2R1bGUgPSBuZXcgV2ViQXNzZW1ibHkuTW9kdWxlKG1vZHVsZSk7XG4gICAgfVxuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG1vZHVsZSwgaW1wb3J0cyk7XG4gICAgcmV0dXJuIF9fd2JnX2ZpbmFsaXplX2luaXQoaW5zdGFuY2UsIG1vZHVsZSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fd2JnX2luaXQobW9kdWxlX29yX3BhdGgpIHtcbiAgICBpZiAod2FzbSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gd2FzbTtcblxuXG4gICAgaWYgKHR5cGVvZiBtb2R1bGVfb3JfcGF0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihtb2R1bGVfb3JfcGF0aCkgPT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgICh7bW9kdWxlX29yX3BhdGh9ID0gbW9kdWxlX29yX3BhdGgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ3VzaW5nIGRlcHJlY2F0ZWQgcGFyYW1ldGVycyBmb3IgdGhlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uOyBwYXNzIGEgc2luZ2xlIG9iamVjdCBpbnN0ZWFkJylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbW9kdWxlX29yX3BhdGggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG1vZHVsZV9vcl9wYXRoID0gbmV3IFVSTCgnc25ha2VfZ2FtZV9iZy53YXNtJywgaW1wb3J0Lm1ldGEudXJsKTtcbiAgICB9XG4gICAgY29uc3QgaW1wb3J0cyA9IF9fd2JnX2dldF9pbXBvcnRzKCk7XG5cbiAgICBpZiAodHlwZW9mIG1vZHVsZV9vcl9wYXRoID09PSAnc3RyaW5nJyB8fCAodHlwZW9mIFJlcXVlc3QgPT09ICdmdW5jdGlvbicgJiYgbW9kdWxlX29yX3BhdGggaW5zdGFuY2VvZiBSZXF1ZXN0KSB8fCAodHlwZW9mIFVSTCA9PT0gJ2Z1bmN0aW9uJyAmJiBtb2R1bGVfb3JfcGF0aCBpbnN0YW5jZW9mIFVSTCkpIHtcbiAgICAgICAgbW9kdWxlX29yX3BhdGggPSBmZXRjaChtb2R1bGVfb3JfcGF0aCk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbnN0YW5jZSwgbW9kdWxlIH0gPSBhd2FpdCBfX3diZ19sb2FkKGF3YWl0IG1vZHVsZV9vcl9wYXRoLCBpbXBvcnRzKTtcblxuICAgIHJldHVybiBfX3diZ19maW5hbGl6ZV9pbml0KGluc3RhbmNlLCBtb2R1bGUpO1xufVxuXG5leHBvcnQgeyBpbml0U3luYyB9O1xuZXhwb3J0IGRlZmF1bHQgX193YmdfaW5pdDtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../pkg/snake_game.js\n\n}");

/***/ }),

/***/ "../pkg/snake_game_bg.wasm":
/*!*********************************!*\
  !*** ../pkg/snake_game_bg.wasm ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "661bf15f0957e8be0e91.wasm";

/***/ }),

/***/ "../pkg/snippets/snake_game-027f5cd2d64d2885/www/utils/rnd.ts":
/*!********************************************************************!*\
  !*** ../pkg/snippets/snake_game-027f5cd2d64d2885/www/utils/rnd.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rnd: () => (/* binding */ rnd)\n/* harmony export */ });\nfunction rnd(max) {\n    return Math.floor(Math.random() * max);\n} // callback function\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vcGtnL3NuaXBwZXRzL3NuYWtlX2dhbWUtMDI3ZjVjZDJkNjRkMjg4NS93d3cvdXRpbHMvcm5kLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0EsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3d3dy8uLi9wa2cvc25pcHBldHMvc25ha2VfZ2FtZS0wMjdmNWNkMmQ2NGQyODg1L3d3dy91dGlscy9ybmQudHM/NWRhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcm5kKG1heCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpO1xufSAvLyBjYWxsYmFjayBmdW5jdGlvblxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../pkg/snippets/snake_game-027f5cd2d64d2885/www/utils/rnd.ts\n\n}");

/***/ }),

/***/ "./index.ts":
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var snake_game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! snake_game */ \"../pkg/snake_game.js\");\n/* harmony import */ var _utils_rnd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/rnd */ \"./utils/rnd.ts\");\n\n\n(0,snake_game__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().then(function (wasm) {\n    var CELL_SIZE = 20;\n    var WORLD_WIDTH = 8;\n    var snakeSpawnIndex = (0,_utils_rnd__WEBPACK_IMPORTED_MODULE_1__.rnd)(WORLD_WIDTH * WORLD_WIDTH);\n    var world = snake_game__WEBPACK_IMPORTED_MODULE_0__.World.new(WORLD_WIDTH, snakeSpawnIndex);\n    var worldWidth = world.width();\n    // const canvas = <HTMLCanvasElement> document.getElementById(\"snake-canvas\") ; // another way to type the canvas\n    var canvas = document.getElementById(\"snake-canvas\");\n    var ctx = canvas.getContext(\"2d\");\n    canvas.height = worldWidth * CELL_SIZE;\n    canvas.width = worldWidth * CELL_SIZE;\n    var gameStatus = document.getElementById(\"game-status\");\n    var gamePoints = document.getElementById(\"points\");\n    var gameBtn = document.getElementById(\"game-btn\");\n    gameBtn.addEventListener(\"click\", function () {\n        var status = world.game_status();\n        if (status === undefined) {\n            gameBtn.textContent = \"Playing...\";\n            world.start_game();\n            play();\n        }\n        else {\n            location.reload();\n        }\n    });\n    // the way to get the snake cells (the pointer to the first element of the vector):\n    // const snakeCellPtr = world.snake_cells();\n    var snakeLength = world.snake_length();\n    // const snakeCells = new Uint32Array(\n    //   wasm.memory.buffer,\n    //   snakeCellPtr,\n    //   snakeLength\n    // );\n    for (var i = 0; i < snakeLength; i++) {\n        document.addEventListener(\"keydown\", function (e) {\n            switch (e.code) {\n                case \"ArrowUp\":\n                    world.change_snake_direction(snake_game__WEBPACK_IMPORTED_MODULE_0__.Direction.Up);\n                    break;\n                case \"ArrowDown\":\n                    world.change_snake_direction(snake_game__WEBPACK_IMPORTED_MODULE_0__.Direction.Down);\n                    break;\n                case \"ArrowRight\":\n                    world.change_snake_direction(snake_game__WEBPACK_IMPORTED_MODULE_0__.Direction.Right);\n                    break;\n                case \"ArrowLeft\":\n                    world.change_snake_direction(snake_game__WEBPACK_IMPORTED_MODULE_0__.Direction.Left);\n                    break;\n            }\n        });\n    }\n    function drawWorld() {\n        ctx.beginPath();\n        for (var x = 0; x < worldWidth + 1; x++) {\n            ctx.moveTo(x * CELL_SIZE, 0);\n            ctx.lineTo(x * CELL_SIZE, worldWidth * CELL_SIZE);\n        }\n        for (var y = 0; y < worldWidth + 1; y++) {\n            ctx.moveTo(0, y * CELL_SIZE);\n            ctx.lineTo(worldWidth * CELL_SIZE, y * CELL_SIZE);\n        }\n        ctx.stroke();\n    }\n    function drawReward() {\n        var rewardCellIndex = world.reward_cell();\n        var col = rewardCellIndex % worldWidth;\n        var row = Math.floor(rewardCellIndex / worldWidth);\n        ctx.fillStyle = \"#fd7e14\";\n        ctx.beginPath();\n        ctx.fillRect(col * CELL_SIZE, row * CELL_SIZE, CELL_SIZE, CELL_SIZE);\n        ctx.stroke();\n    }\n    function drawSnake() {\n        var snakeCells = new Uint32Array(wasm.memory.buffer, world.snake_cells(), world.snake_length());\n        // .slice().reverse()\n        // ctx.fillStyle = index === snakeCells.length - 1 ? \"#5f3dc4\" : \"#b197fc\";\n        snakeCells\n            .filter(function (cellIndex, index) { return !(index > 0 && cellIndex === snakeCells[0]); })\n            .forEach(function (cellIndex, index) {\n            var col = cellIndex % worldWidth;\n            var row = Math.floor(cellIndex / worldWidth);\n            ctx.fillStyle = index === 0 ? \"#5f3dc4\" : \"#b197fc\";\n            ctx.beginPath();\n            ctx.fillRect(col * CELL_SIZE, row * CELL_SIZE, CELL_SIZE, CELL_SIZE);\n        });\n        ctx.stroke();\n    }\n    function drawGameStatus() {\n        gameStatus.textContent = world.game_status_text();\n        gamePoints.textContent = world.points().toString();\n    }\n    function paint() {\n        drawWorld();\n        drawSnake();\n        drawReward();\n        drawGameStatus();\n    }\n    function play() {\n        var status = world.game_status();\n        if (status === snake_game__WEBPACK_IMPORTED_MODULE_0__.GameStatus.Won || status === snake_game__WEBPACK_IMPORTED_MODULE_0__.GameStatus.Lost) {\n            gameBtn.textContent = \"Play Again\";\n            return;\n        }\n        var fps = 2;\n        setTimeout(function () {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            world.step();\n            paint();\n            // requestAnimationFrame is a browser API that calls the callback function before the next repaint\n            requestAnimationFrame(play); // update()\n        }, 1000 / fps);\n    }\n    paint();\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7QUFBZ0U7QUFDOUI7QUFDbEMsc0RBQUk7QUFDSjtBQUNBO0FBQ0EsMEJBQTBCLCtDQUFHO0FBQzdCLGdCQUFnQiw2Q0FBSztBQUNyQjtBQUNBLG9GQUFvRjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxpREFBUztBQUMxRDtBQUNBO0FBQ0EsaURBQWlELGlEQUFTO0FBQzFEO0FBQ0E7QUFDQSxpREFBaUQsaURBQVM7QUFDMUQ7QUFDQTtBQUNBLGlEQUFpRCxpREFBUztBQUMxRDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9CQUFvQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxxREFBcUQ7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0RBQVUsbUJBQW1CLGtEQUFVO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93d3cvLi9pbmRleC50cz9iZjk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0LCB7IFdvcmxkLCBEaXJlY3Rpb24sIEdhbWVTdGF0dXMgfSBmcm9tIFwic25ha2VfZ2FtZVwiO1xuaW1wb3J0IHsgcm5kIH0gZnJvbSBcIi4vdXRpbHMvcm5kXCI7XG5pbml0KCkudGhlbihmdW5jdGlvbiAod2FzbSkge1xuICAgIHZhciBDRUxMX1NJWkUgPSAyMDtcbiAgICB2YXIgV09STERfV0lEVEggPSA4O1xuICAgIHZhciBzbmFrZVNwYXduSW5kZXggPSBybmQoV09STERfV0lEVEggKiBXT1JMRF9XSURUSCk7XG4gICAgdmFyIHdvcmxkID0gV29ybGQubmV3KFdPUkxEX1dJRFRILCBzbmFrZVNwYXduSW5kZXgpO1xuICAgIHZhciB3b3JsZFdpZHRoID0gd29ybGQud2lkdGgoKTtcbiAgICAvLyBjb25zdCBjYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic25ha2UtY2FudmFzXCIpIDsgLy8gYW5vdGhlciB3YXkgdG8gdHlwZSB0aGUgY2FudmFzXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic25ha2UtY2FudmFzXCIpO1xuICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGNhbnZhcy5oZWlnaHQgPSB3b3JsZFdpZHRoICogQ0VMTF9TSVpFO1xuICAgIGNhbnZhcy53aWR0aCA9IHdvcmxkV2lkdGggKiBDRUxMX1NJWkU7XG4gICAgdmFyIGdhbWVTdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWUtc3RhdHVzXCIpO1xuICAgIHZhciBnYW1lUG9pbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb2ludHNcIik7XG4gICAgdmFyIGdhbWVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWUtYnRuXCIpO1xuICAgIGdhbWVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXR1cyA9IHdvcmxkLmdhbWVfc3RhdHVzKCk7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZ2FtZUJ0bi50ZXh0Q29udGVudCA9IFwiUGxheWluZy4uLlwiO1xuICAgICAgICAgICAgd29ybGQuc3RhcnRfZ2FtZSgpO1xuICAgICAgICAgICAgcGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyB0aGUgd2F5IHRvIGdldCB0aGUgc25ha2UgY2VsbHMgKHRoZSBwb2ludGVyIHRvIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSB2ZWN0b3IpOlxuICAgIC8vIGNvbnN0IHNuYWtlQ2VsbFB0ciA9IHdvcmxkLnNuYWtlX2NlbGxzKCk7XG4gICAgdmFyIHNuYWtlTGVuZ3RoID0gd29ybGQuc25ha2VfbGVuZ3RoKCk7XG4gICAgLy8gY29uc3Qgc25ha2VDZWxscyA9IG5ldyBVaW50MzJBcnJheShcbiAgICAvLyAgIHdhc20ubWVtb3J5LmJ1ZmZlcixcbiAgICAvLyAgIHNuYWtlQ2VsbFB0cixcbiAgICAvLyAgIHNuYWtlTGVuZ3RoXG4gICAgLy8gKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNuYWtlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5jb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgICAgICAgICAgICAgd29ybGQuY2hhbmdlX3NuYWtlX2RpcmVjdGlvbihEaXJlY3Rpb24uVXApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICAgICAgICAgICAgICAgIHdvcmxkLmNoYW5nZV9zbmFrZV9kaXJlY3Rpb24oRGlyZWN0aW9uLkRvd24pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICAgICAgICAgICAgICB3b3JsZC5jaGFuZ2Vfc25ha2VfZGlyZWN0aW9uKERpcmVjdGlvbi5SaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgd29ybGQuY2hhbmdlX3NuYWtlX2RpcmVjdGlvbihEaXJlY3Rpb24uTGVmdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZHJhd1dvcmxkKCkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd29ybGRXaWR0aCArIDE7IHgrKykge1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4ICogQ0VMTF9TSVpFLCAwKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCAqIENFTExfU0laRSwgd29ybGRXaWR0aCAqIENFTExfU0laRSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB3b3JsZFdpZHRoICsgMTsgeSsrKSB7XG4gICAgICAgICAgICBjdHgubW92ZVRvKDAsIHkgKiBDRUxMX1NJWkUpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh3b3JsZFdpZHRoICogQ0VMTF9TSVpFLCB5ICogQ0VMTF9TSVpFKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRyYXdSZXdhcmQoKSB7XG4gICAgICAgIHZhciByZXdhcmRDZWxsSW5kZXggPSB3b3JsZC5yZXdhcmRfY2VsbCgpO1xuICAgICAgICB2YXIgY29sID0gcmV3YXJkQ2VsbEluZGV4ICUgd29ybGRXaWR0aDtcbiAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IocmV3YXJkQ2VsbEluZGV4IC8gd29ybGRXaWR0aCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiNmZDdlMTRcIjtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguZmlsbFJlY3QoY29sICogQ0VMTF9TSVpFLCByb3cgKiBDRUxMX1NJWkUsIENFTExfU0laRSwgQ0VMTF9TSVpFKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkcmF3U25ha2UoKSB7XG4gICAgICAgIHZhciBzbmFrZUNlbGxzID0gbmV3IFVpbnQzMkFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlciwgd29ybGQuc25ha2VfY2VsbHMoKSwgd29ybGQuc25ha2VfbGVuZ3RoKCkpO1xuICAgICAgICAvLyAuc2xpY2UoKS5yZXZlcnNlKClcbiAgICAgICAgLy8gY3R4LmZpbGxTdHlsZSA9IGluZGV4ID09PSBzbmFrZUNlbGxzLmxlbmd0aCAtIDEgPyBcIiM1ZjNkYzRcIiA6IFwiI2IxOTdmY1wiO1xuICAgICAgICBzbmFrZUNlbGxzXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChjZWxsSW5kZXgsIGluZGV4KSB7IHJldHVybiAhKGluZGV4ID4gMCAmJiBjZWxsSW5kZXggPT09IHNuYWtlQ2VsbHNbMF0pOyB9KVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGNlbGxJbmRleCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjb2wgPSBjZWxsSW5kZXggJSB3b3JsZFdpZHRoO1xuICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoY2VsbEluZGV4IC8gd29ybGRXaWR0aCk7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gaW5kZXggPT09IDAgPyBcIiM1ZjNkYzRcIiA6IFwiI2IxOTdmY1wiO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGNvbCAqIENFTExfU0laRSwgcm93ICogQ0VMTF9TSVpFLCBDRUxMX1NJWkUsIENFTExfU0laRSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRyYXdHYW1lU3RhdHVzKCkge1xuICAgICAgICBnYW1lU3RhdHVzLnRleHRDb250ZW50ID0gd29ybGQuZ2FtZV9zdGF0dXNfdGV4dCgpO1xuICAgICAgICBnYW1lUG9pbnRzLnRleHRDb250ZW50ID0gd29ybGQucG9pbnRzKCkudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGFpbnQoKSB7XG4gICAgICAgIGRyYXdXb3JsZCgpO1xuICAgICAgICBkcmF3U25ha2UoKTtcbiAgICAgICAgZHJhd1Jld2FyZCgpO1xuICAgICAgICBkcmF3R2FtZVN0YXR1cygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgICB2YXIgc3RhdHVzID0gd29ybGQuZ2FtZV9zdGF0dXMoKTtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gR2FtZVN0YXR1cy5Xb24gfHwgc3RhdHVzID09PSBHYW1lU3RhdHVzLkxvc3QpIHtcbiAgICAgICAgICAgIGdhbWVCdG4udGV4dENvbnRlbnQgPSBcIlBsYXkgQWdhaW5cIjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnBzID0gMjtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICB3b3JsZC5zdGVwKCk7XG4gICAgICAgICAgICBwYWludCgpO1xuICAgICAgICAgICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzIGEgYnJvd3NlciBBUEkgdGhhdCBjYWxscyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gYmVmb3JlIHRoZSBuZXh0IHJlcGFpbnRcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShwbGF5KTsgLy8gdXBkYXRlKClcbiAgICAgICAgfSwgMTAwMCAvIGZwcyk7XG4gICAgfVxuICAgIHBhaW50KCk7XG59KTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./index.ts\n\n}");

/***/ }),

/***/ "./utils/rnd.ts":
/*!**********************!*\
  !*** ./utils/rnd.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rnd: () => (/* binding */ rnd)\n/* harmony export */ });\nfunction rnd(max) {\n    return Math.floor(Math.random() * max);\n} // callback function\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9ybmQudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3d3Ly4vdXRpbHMvcm5kLnRzPzlkZjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHJuZChtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KTtcbn0gLy8gY2FsbGJhY2sgZnVuY3Rpb25cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/rnd.ts\n\n}");

/***/ })

}]);